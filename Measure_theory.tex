\documentclass{article}
\usepackage{graphicx} % Required for inserting images
\usepackage[english]{babel}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{enumitem} 
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{tikz}
\usetikzlibrary{matrix}
\usepackage[english]{babel}
\usepackage{mathtools}
\usepackage[a4paper, total={6in, 8in}]{geometry}
\usepackage{cite}


\newtheorem{theorem}{Theorem}[section]
\newtheorem{definition}[theorem]{Definition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{exercise}[theorem]{Exercise}


\title{Measure theory}
\author{Saxon Supple}
\date{January 2025}

\begin{document}

\maketitle

\begin{exercise}
Suppose $n \in \mathbb{N}$ and $X$ is a set with $n$ elements. Show that the power set $\mathcal{P}(X)$ has $2^n$ elements.
\end{exercise}
\begin{proof}
We proceed by induction on $n$. For $n=0$ then clearly $\mathcal{P}(X)=\{\emptyset\}$ has $1$ element. Assume it's true for $n=k$. Then for $n=k+1$ we can pick an element $x\in X$ and see that there are $2^k$ elements in $\mathcal{P}(X\setminus\{x\})$ by the inductive hypothesis. Every set in $\mathcal{P}(X)$ either does or does not contain $x$ so there are twice the number of elements in $\mathcal{P}(X)$ as there are in $\mathcal{P}(X\setminus\{x\})$. Thus $\mathcal{P}(X)$ has $2^{k+1}$ elements.
\end{proof}

\begin{exercise}
    Suppose $X$ is a non-empty set and $\mathcal{A}$ is an algebra in $X$. Show that for any $k \in \mathbb{N}$, if $A_i \in \mathcal{A}$ for $i = 1, 2, \ldots, k$ then $\bigcup_{i=1}^k A_i \in \mathcal{A}$.
\end{exercise}
\begin{proof}
We proceed by induction. For $n=1,2$ the statement is obvious. Assume true for $n=k$. Then if $A_i\in\mathcal{A}$ for $i=1,2,...,k,k+1$ we have $\bigcup_{i=1}^kA_i\in\mathcal{A}$ and so $\bigcup_{i=1}^{k+1}A_i=A_{k+1}\cup\bigcup_{i=1}^kA_i\in\mathcal{A}$. 
\end{proof}

\begin{exercise}
    Which of the following collections $\mathcal{M}$ of sets (in $X$) are $\sigma$-algebras? Which ones are algebras? Explain each answer.
    \begin{enumerate}
        \item $X = \{1, 2, 3, 4\}$, 
        \[
        \mathcal{M} = \{\emptyset, \{1\}, \{2\}, \{3, 4\}, \{1, 2\}, \{1, 3\}, \{2, 3, 4\}, \{1, 2, 3, 4\}\}.
        \]
        \item $X = \{1, 2, 3, \ldots \}$ and 
        \[
        \mathcal{M} = \{A \subset X : \text{either } A \text{ or } X \setminus A \text{ is finite}\}.
        \]
        \item $X$ is an uncountable set and 
        \[
        \mathcal{M} = \{A \subset X : \text{either } A \text{ or } X \setminus A \text{ is countable}\}.
        \]
        \item $X$ is any set, $\mathcal{M}_1 \subset \mathcal{M}_2 \subset \ldots$ are $\sigma$-algebras in $X$ and $\mathcal{M} = \bigcup_{n=1}^{\infty} \mathcal{M}_n$.
    \end{enumerate}
\end{exercise}
\begin{proof}
\begin{enumerate}
    \item $\sigma$-algebra (and hence an algebra) since it contains the empty set and is closed under complements and countable unions.
    \item Let $A_i=\{2i\}\in\mathcal{M}$. Then let $A=\bigcup_{i=1}^\infty A_i$. Neither $A$ nor $X\setminus A$ is finite so $A\not\in\mathcal{M}$. Thus $\mathcal{M}$ is not a $\sigma$-algebra. $\emptyset$ is finite so $\emptyset\in\mathcal{M}$. Let $P,Q\in\mathcal{M}$. If $P$ is finite then $X\setminus(X\setminus P)=P$ is finite so $X\setminus P\in\mathcal{M}$. If $X\setminus P$ is finite then $X\setminus P\in\mathcal{M}$. Thus $\mathcal{M}$ is closed under complements. If $P$ and $Q$ are finite then $P\cup Q$ is finite so $P\cup Q\in\mathcal{M}$. If $X\setminus P$ and $X\setminus Q$ are finite then $X\setminus(P\cup Q)=(X\setminus P)\cap(X\setminus Q)$ is finite so $P\cup Q\in\mathcal{M}$. Without loss of generality let $P$ be finite and let $X\setminus Q$ be finite. Then $X\setminus(P\cup Q)=(X\setminus P)\cap(X\setminus Q)$ is finite so $P\cup Q\in\mathcal{M}$. Thus $\mathcal{M}$ is an algebra.
    \item $\emptyset$ is countable so $\emptyset\in\mathcal{M}$. Like in part $(2)$ $\mathcal{M}$ is closed under complements. Let $A_1,A_2,...$ be a collection of sets in $\mathcal{M}$. If every set is countable then $\bigcup_{i=1}^\infty A_i$ is countable since the union of countably many countable sets is countable. If $X\setminus A_k$ countable for some $k$ then $X\setminus\bigcup_{i=1}^\infty A_i=\bigcap_{i=1}^\infty X\setminus A_i\subseteq X\setminus A_k$ is countable. Thus $\mathcal{M}$ is a $\sigma$-algebra.
    \item $\emptyset\in\mathcal{M}_1$ so $\emptyset\in\mathcal{M}$. Let $A\in\mathcal{M}$. Then $A\in\mathcal{M}_i$ for some $i$ so $A^c\in\mathcal{M}_i\subseteq\mathcal{M}$. Thus $\mathcal{M}$ is closed under complements. Let $A,B\in\mathcal{M}$. Then $A,B\in\mathcal{M}_n$ for some $n$ so $A\cup B\in\mathcal{M}_n\subseteq\mathcal{M}$. Thus $\mathcal{M}$ is an algebra.

    Let $X=\mathbb{N}$ and let $\mathcal{M}_i=\{A\subseteq X:A\subseteq\{1,2,...,i\}\text{ or }A^c\subseteq\{1,2,...,i\}\}$. $\emptyset\subseteq\{1,2,...,i\}$ so $\emptyset\in\mathcal{M}_i$. $\mathcal{M}_i$ is clearly closed under complements. Let $A_1,A_2,...\in\mathcal{M}_i$. Suppose every $A_k\subseteq\{1,2,...,i\}$. Then $\bigcup_{k=1}^\infty A_k\subseteq\{1,2,...,i\}$ so $\bigcup_{k=1}^\infty A_k\in\mathcal{M}_i$. Suppose there exists an $A_l$ such that $A_l^c\in\{1,2,...,i\}$. Then $(\bigcup_{k=1}^\infty A_k)^c=\bigcap_{k=1}^\infty A_k^c\subseteq A_l^c\subseteq\{1,2,...,i\}$. Thus each $\mathcal{M}_i$ is a $\sigma$-algebra. Furthermore, $A\subseteq\{1,2,...,i\}$ or $A^c\subseteq\{1,2,...,i\}\implies A\subseteq\{1,2,...,i,i+1\}$ or $A^c\subseteq\{1,2,...,i,i+1\}$ so $\mathcal{M}_i\subseteq\mathcal{M}_{i+1}$. Let $A_i=\{2i\}\in\mathcal{M}_{2i}\subseteq\mathcal{M}$. Then $A:=\bigcup_{k=1}^\infty A_k=2\mathbb{N}$. Suppose $A\in\mathcal{M}$. Then there is an $i$ such that $A\in\mathcal{M}_i$. However $A$ is unbounded so neither $A$ nor $A^c$ is contained in $\{1,2,...,i\}$; a contradiction. Thus $\mathcal{M}$ is not a $\sigma$-algebra.
\end{enumerate}
\end{proof}

\begin{exercise}
    Given numbers $x_{ij} \geq 0$ defined for each $i \in \mathbb{N}, j \in \mathbb{N}$, show that 
    \[
    \sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right) = \sum_{j=1}^{\infty} \left(\sum_{i=1}^{\infty} x_{ij}\right).
    \]
    [\textit{Hint: first show a (weak) inequality between the two double sums.}]
\end{exercise}
\begin{proof}
$\sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right)=\lim_{N\to\infty}\sum_{i=1}^N(\sum_{j=1}^\infty x_{ij})$. Thus given any $a<\sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right)$ there exists an $N\in\mathbb{N}$ such that $\sum_{i=1}^N(\sum_{j=1}^\infty x_{ij})>a$. $\sum_{i=1}^N(\sum_{j=1}^\infty x_{ij})=\sum_{i=1}^N(\lim_{M\to\infty}\sum_{j=1}^M x_{ij})=\lim_{M\to\infty}\sum_{i=1}^N(\sum_{j=1}^M x_{ij})>a$ so there exists an $M\in\mathbb{N}$ such that $\sum_{i=1}^N(\sum_{j=1}^M x_{ij})>a$. $\sum_{i=1}^N(\sum_{j=1}^M x_{ij})=\sum_{j=1}^M(\sum_{i=1}^N x_{ij})>a$ and so $\sum_{j=1}^\infty(\sum_{i=1}^\infty x_{ij})> a$. This is true for every $a<\sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right)$ so $\sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right)\leq\sum_{j=1}^\infty(\sum_{i=1}^\infty x_{ij})$. Similarly $\sum_{j=1}^\infty(\sum_{i=1}^\infty x_{ij})\leq \sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right)$ and so $\sum_{i=1}^{\infty} \left(\sum_{j=1}^{\infty} x_{ij}\right) = \sum_{j=1}^{\infty} \left(\sum_{i=1}^{\infty} x_{ij}\right)$.
\end{proof}
\begin{exercise}
    Suppose $X$ is a non-empty set and $\mathcal{X} = \{A_1, A_2, \ldots, A_k\}$, where the sets $A_1, \ldots, A_k$ are non-empty and form a partition of $X$, i.e., they are pairwise disjoint and $\bigcup_{i=1}^{k} A_i = X$. Show that 
    \[
    \sigma(\mathcal{X}) = \{\bigcup_{j \in J} A_j : J \subset \{1, 2, \ldots, k\}\}.
    \]
\end{exercise}
\begin{proof}
We shall refer to $\{\bigcup_{j \in J} A_j : J \subset \{1, 2, \ldots, k\}\}$ as $\mathcal{B}$. $\emptyset=\bigcup_{j\in\emptyset}A_j\in\mathcal{B}$. Let $P\in\mathcal{B}$. Then $P=\bigcup_{j\in J}A_j$ for some $J\subseteq\{1,2,...,k\}$ so $P^c=\bigcup_{j\in J^c}A_j\in\mathcal{B}$. Let $P_1,P_2,...\in\mathcal{B}$ so that each $P_i=\bigcup_{j\in J_i}A_j$ for some $J_i\subseteq\{1,2,...,k\}$. Then $\bigcup_{i=1}^\infty P_i=\bigcup_{i=1}^\infty\bigcup_{j\in J_i}A_j=\bigcup_{j\in\bigcup_{i=1}^\infty J_i}A_j\in\mathcal{B}$ since $\bigcup_{i=1}^\infty J_i\subseteq\{1,2,...,k\}$. Thus $\mathcal{B}$ is indeed a $\sigma$-algebra. Now suppose that $\mathcal{M}$ is another $\sigma$-algebra such that $\mathcal{X}\subseteq\mathcal{M}$. Clearly $\mathcal{B}\subseteq\mathcal{M}$ and so $\mathcal{B}$ is the smallest $\sigma$-algebra containing $\mathcal{X}$ so $\sigma(\mathcal{X})=\mathcal{B}$.
\end{proof}
\begin{exercise}
    Suppose $X$ is a non-empty set and $\mathcal{X} = \{A_1, A_2, A_3, \ldots\}$, where the sets $A_i, i \geq 1$ are non-empty and form a countably infinite partition of $X$, i.e., they are pairwise disjoint and $\bigcup_{i=1}^{\infty} A_i = X$.
    \begin{enumerate}
        \item Describe the sets in the $\sigma$-algebra generated by $\mathcal{X}$.
        \item Describe the sets in the algebra generated by $\mathcal{X}$.
    \end{enumerate}
\end{exercise}
\begin{proof}
\begin{enumerate}
    \item Let $\mathcal{M}=\{\bigcup_{j\in J}A_j:J\subseteq\mathbb{N}\}$. $\emptyset\in\mathcal{M}$. Let $A:=\bigcup_{i\in I}A_j,I\subseteq\mathbb{N}$. Then $A^c=\bigcup_{i\in I^c}A_j\in\mathcal{M}$ since $I^c\subseteq\mathbb{N}$. Let $P_i=\bigcup_{j\in J_i}A_j$ for some $J_i\subseteq\mathbb{N}$. Then $\bigcup_{i=1}^\infty P_i=\bigcup_{i=1}^\infty\bigcup_{j\in J_i}A_j=\bigcup_{j\in\bigcup_{i=1}^\infty J_i}A_j\in\mathcal{M}$ since $\bigcup_{i=1}^\infty J_i\subseteq\mathbb{N}$. Thus $\mathcal{M}$ is a $\sigma$-algebra and is clearly the smallest one containing $\mathcal{X}$ so is the $\sigma$-algebra generated by $\mathcal{X}$.
    \item Let $\mathcal{M}=\{\bigcup_{j\in J}A_j:J\subseteq\mathbb{N},J\text{ is finite or }J^c\text{ is finite}\}$. $\emptyset\in\mathcal{M}$. let $\bigcup_{j\in J}A_j\in\mathcal{M}$. If $J$ is finite then $(J^c)^c$ is finite and if $J^c$ is finite then $J^c$ is finite so $(\bigcup_{j\in J}A_j)^c=\bigcup_{j\in J^c}A_j\in\mathcal{M}$. Let $P_1,P_2\in\mathcal{M}$ where each $P_i=\bigcup_{j\in J_i}A_j$ so that $P_1\cup P_2=\bigcup_{j\in J_1\cup J_2}A_j$. If both $J_i$ are finite then $J_1\cup J_2$ is finite. If (without loss of generality) $J_1^c$ is finite then $(J_1\cup J_2)^c=J_1^c\cap J_2^c$ is finite. Thus $P_1\cup P_2\in\mathcal{M}$. $\mathcal{M}$ is then clearly the smallest algebra containing $\mathcal{X}$ so is the algebra generated by $\mathcal{X}$.
\end{enumerate}
\end{proof}
\begin{exercise}
Suppose $X = (0, 7]$ and $C = \{(0, 2], (1, 5]\}$. Write down the sets in $\sigma(C)$.
\end{exercise}

\begin{exercise}
    Let
    \[
    \begin{aligned}
        \mathcal{O} &= \{G \subset \mathbb{R} : G \text{ is open}\}; \\
        \mathcal{H} &= \{F \subset \mathbb{R} : F \text{ is closed}\}; \\
        \mathcal{K} &= \{K \subset \mathbb{R} : K \text{ is compact}\}; \\
        \mathcal{D} &= \{F \subset \mathbb{R} : F = (-\infty, q] \text{ for some } q \in \mathbb{Q}\}.
    \end{aligned}
    \]
    (Recall that $K$ is compact iff $K$ is closed and bounded.) Recall that the collection $\mathcal{B}$ of Borel sets in $\mathbb{R}$ is defined by $\mathcal{B} = \sigma(\mathcal{O})$.
    \begin{enumerate}
        \item Construct a Borel set that is neither open nor closed, that is, it is in $\mathcal{B} \setminus (\mathcal{O} \cup \mathcal{H})$.
        \item Prove that $\sigma(\mathcal{K}) = \mathcal{B}$.
        \item Prove that $\sigma(\mathcal{D}) = \mathcal{B}$.
    \end{enumerate}
\end{exercise}
\begin{exercise}
    Show that the examples described just after Definition 3.1 are indeed measures. 
    [\textit{Hint: you may find Exercise 4 useful here.}]
\end{exercise}
\begin{exercise}
    Let $\mu$ be a measure on $(\mathbb{R}, \mathcal{B})$ with $\mu(\mathbb{R}) < \infty$. For $x \in \mathbb{R}$, set $F(x) = \mu((-\infty, x])$. Show that $F$ is nondecreasing and right continuous. [A function $f : \mathbb{R} \to \mathbb{R}$ is right continuous if for all $x \in \mathbb{R}$ and $\epsilon > 0$ there exists $\delta > 0$ such that if $x < y < x + \delta$ then $|f(y) - f(x)| < \epsilon$.]
\end{exercise}
\begin{exercise}
    \begin{enumerate}
        \item Give an example of a measure space $(X, \mathcal{M}, \mu)$ and a sequence of sets $A_1 \supset A_2 \supset A_3 \supset \ldots$ with each $A_i \in \mathcal{M}$, such that $\mu(\bigcap_{n=1}^{\infty} A_i) \neq \lim_{n \to \infty} \mu(A_i)$.
        \item Give an example of a measurable space $(X, \mathcal{M})$ and a set function $\mu : \mathcal{M} \to [0, \infty]$ such that $\mu$ is finitely additive but not countably additive. 
        [\textit{Hint: In both cases we can take $X = \mathbb{N}$.}]
    \end{enumerate}
\end{exercise}
\begin{exercise}
    Suppose $X$ is a non-empty set and $\mathcal{X} = \{A_1, A_2, \ldots\}$ is a partition of $X$ with $A_i \neq \emptyset$ for each $i \in \mathbb{N}$. Suppose $(a_1, a_2, a_3, \ldots)$ is a sequence of nonnegative numbers. Show that there is a unique measure $\mu$ on the measurable space $(X, \sigma(\mathcal{X}))$ with $\mu(A_i) = a_i$ for all $i \in \mathbb{N}$.
\end{exercise}

\begin{exercise}
Show that if $A \subset \mathbb{R}$ is countable then $A \in \mathcal{B}$ and $\lambda_1(A) = 0$.
\end{exercise}
\begin{exercise}
    Show that for any interval $I$ with left endpoint $a$ and right endpoint $b$ we have $\lambda_1(I) = b - a$ (regardless of whether $a, b \in I$ or not).
\end{exercise}
\begin{exercise}
    Give an example of a Borel set $A \subset \mathbb{R}$ with $\lambda_1(A) > 0$ but with no non-empty open interval contained in $A$.
\end{exercise}
\begin{exercise}
    Given $\epsilon > 0$, give an example of an open set $U \subset \mathbb{R}$ with $\lambda_1(U) < \epsilon$ that is dense in $\mathbb{R}$, i.e., has non-empty intersection with every non-empty open interval in $\mathbb{R}$.
\end{exercise}
\begin{exercise}
    Suppose $A \subset \mathbb{R}$ is a bounded Borel set. Show that for all $\epsilon > 0$ there exists a set $U$ which is a finite union of intervals, such that $\lambda_1(A \Delta U) < \epsilon$, where $A \Delta U := (A \cup U) \setminus (A \cap U)$. 
    [\textit{Hint: use the fact that $\lambda_1(A) = \lambda^*(A)$.}]
\end{exercise}
\begin{exercise}
    In this question we write $\lambda^*(A)$ for the Lebesgue outer measure of $A$.
    \begin{enumerate}
        \item What is the definition of the \textit{Lebesgue outer measure} of a set $A \subset \mathbb{R}$?
        \item Show that for any (not necessarily Borel) $A \subset \mathbb{R}$ there exists a Borel set $B \subset \mathbb{R}$ with $A \subset B$ and $\lambda_1(B) = \lambda^*(A)$.
        \item Suppose $A \subset \mathbb{R}$ is a Borel set with $\lambda_1(A) > 0$. Using the fact that $\lambda_1(A) = \lambda^*(A)$, show that for any $\epsilon > 0$ there exists a non-empty half-open interval $I$ with $\lambda_1(A \cap I) \geq (1 - \epsilon)\lambda_1(I)$.
        \item Show that the set $A \ominus A := \{x - y : x, y \in A\}$ includes a non-empty half-open interval.
    \end{enumerate}
\end{exercise}
\begin{exercise}
    Suppose $X$ is a non-empty set and $\mathcal{D}$ is a $\pi$-system in $X$. Show that for any $k \in \mathbb{N}$, if $A_i \in \mathcal{D}$ for $i = 1, 2, \ldots, k$ then $\bigcap_{i=1}^{k} A_i \in \mathcal{D}$.
\end{exercise}
\begin{exercise}
    Let $\mathcal{I}$ denote the class of half-open intervals in $\mathbb{R}$, together with the empty set (as in the lecture notes). Define the set-function $\pi : \mathcal{I} \to [0, \infty]$ by
    \[
    \pi(A) :=
    \begin{cases}
        0 & \text{if } A = \emptyset; \\
        \infty & \text{if } A \neq \emptyset.
    \end{cases}
    \]
    Show that $\pi$ has more than one extension to a measure on $\mathcal{B} = \sigma(\mathcal{I})$. What condition of the (Uniqueness theorem) failed here?
\end{exercise}

\end{document}
